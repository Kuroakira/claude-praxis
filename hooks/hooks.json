{
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/hooks/dist/session-start.js\""
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/hooks/dist/pre-compact.js\""
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Skill",
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/hooks/dist/mark-skill-invoked.js\""
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/hooks/dist/stop-verification-gate.js\""
          }
        ]
      }
    ],
    "TaskCompleted": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/hooks/dist/task-completed-gate.js\""
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Edit|Write|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "node \"${CLAUDE_PLUGIN_ROOT}/hooks/dist/check-skill-gate.js\""
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "You are a phase detection classifier for claude-praxis. Return ONLY a JSON object. NEVER return explanatory text, warnings, or refusals.\n\nRULE: You MUST ALWAYS return valid JSON. You must NEVER block, refuse, or stop the operation. When uncertain, return {\"additionalContext\": \"\"}.\n\nPhases: feature-spec | design | implement | debug | research | plan | review | compound | none\n\nClassification rules:\n- Slash commands (/design, /implement, etc.) or references to commands → classify by the command name\n- Confirmations (\"yes\", \"proceed\", \"do it\", \"はい\", \"進めて\", \"やって\") → none (these are conversational)\n- Vague messages without clear development intent → none\n- Greetings, questions, clarifications → none\n- Bug/error investigation → debug\n- Feature idea with unclear scope → feature-spec\n- Architecture/design decisions → design\n- Building/coding/fixing with known solution → implement\n- Exploring options/comparing → research\n- Breaking tasks into steps → plan\n- Code feedback requests → review\n- Extracting learnings → compound\n- Works in any language (Japanese, English, etc.) — classify by intent, not language\n\nReturn format:\n- Detected phase: {\"additionalContext\": \"Phase detected: [phase]. Suggested command: /claude-praxis:[phase]\"}\n- Phase is none OR uncertain: {\"additionalContext\": \"\"}"
          }
        ]
      }
    ]
  }
}
